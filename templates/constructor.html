{% extends "base.html" %}

{% block content %}
<!-- Шаг 1: Конструктор -->
<div id="step1" class="step-content">
    <div class="panels">
        {% include "components/tree_panel.html" %}
        {% include "components/preview_panel.html" %}
    </div>
</div>

<!-- Шаг 2: Заполнение данных -->
<div id="step2" class="step-content hidden">
    <!-- Контейнер элементов -->
    <div id="itemsContainer" class="items-container"></div>

    <!-- Кнопки навигации -->
    <div class="step-actions">
        <button id="backBtn" class="btn btn-secondary">◄ Назад</button>

        <!-- Split button для сохранения -->
        <div class="save-button-group">
            <button id="generateBtn" class="btn btn-success save-main-btn">
                Сохранить акт
            </button>
            <button id="formatDropdownBtn" class="btn btn-success save-dropdown-btn" title="Выбрать форматы">
                <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M2 4L6 8L10 4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
            </button>

            <!-- Выпадающее меню форматов -->
            <div id="formatMenu" class="format-dropdown-menu hidden">
                <label class="format-option">
                    <input type="checkbox" value="txt" checked>
                    <span>TXT</span>
                </label>
                <label class="format-option">
                    <input type="checkbox" value="md">
                    <span>Markdown</span>
                </label>
                <label class="format-option">
                    <input type="checkbox" value="docx">
                    <span>DOCX</span>
                </label>
            </div>
        </div>
    </div>
</div>

{% include "components/context_menu.html" %}
{% endblock %}
