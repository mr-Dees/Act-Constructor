/*
 * Состояния ячеек таблицы
 * Стили для выделенных, редактируемых и объединенных ячеек
 */

/* Выделенная ячейка */
.editable-table td.selected,
.editable-table th.selected {
    background: var(--table-row-selected);
    outline: var(--table-editor-outline-width) solid var(--primary);
    outline-offset: var(--table-editor-outline-offset);
    z-index: var(--z-base);
}

/* Выделенный заголовок */
.editable-table th.selected {
    background: var(--table-header-selected);
}

/* Ячейка в режиме редактирования */
.editable-table td.editing {
    padding: 0;
    height: auto;
    background: var(--input-bg);
    box-shadow: inset 0 0 0 var(--table-editor-outline-width) var(--primary);
    z-index: var(--z-sticky-high);
}

/* Поле ввода в режиме редактирования */
.editable-table td.editing input {
    width: 100%;
    height: auto;
    border: none;
    padding: var(--spacing-sm) var(--spacing);
    padding-bottom: var(--spacing-lg);
    font-family: var(--font-family-base);
    font-size: var(--font-size-sm);
    line-height: var(--line-height-normal);
    box-sizing: border-box;
    outline: none;
    background: transparent;
    margin: 0;
    min-height: var(--table-cell-min-height);
    display: block;
    color: var(--text-primary);
}

/* Фокус на поле ввода */
.editable-table td.editing input:focus {
    outline: none;
}

/* Плейсхолдер */
.editable-table td.editing input::placeholder {
    color: var(--input-placeholder);
    opacity: 1;
}

/* Объединенные ячейки */
.editable-table td[colspan],
.editable-table td[rowspan] {
    background: var(--bg-secondary);
    vertical-align: top;
}

/* Ячейка с объединением колонок */
.editable-table td[colspan] {
    width: auto;
    max-width: none;
}

/* Ячейка с объединением строк */
.editable-table td[rowspan] {
    height: auto;
    max-height: none;
}

/* Скрытие хендлов изменения размера при редактировании */
.editable-table td.editing .resize-handle,
.editable-table td.editing .row-resize-handle,
.editable-table th.editing .resize-handle,
.editable-table th.editing .row-resize-handle {
    display: none;
}

/* Таблица в режиме изменения размеров */
.editable-table.resizing {
    user-select: none;
}

/* Блокировка взаимодействия при изменении размеров */
.editable-table.resizing * {
    pointer-events: none;
}

/* Хендлы остаются активными при изменении размеров */
.editable-table.resizing .resize-handle,
.editable-table.resizing .row-resize-handle {
    pointer-events: auto;
}

/* Курсор при изменении размеров */
.editable-table.resizing.resizing-column {
    cursor: col-resize;
}

.editable-table.resizing.resizing-row {
    cursor: row-resize;
}
