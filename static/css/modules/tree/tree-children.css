/*
 * Вложенные элементы дерева
 * Стили для отображения иерархии дочерних узлов
 */

/* Список дочерних элементов */
.tree-children {
    list-style: none;
    margin: 0;
    margin-left: var(--spacing-lg);
    margin-top: var(--spacing-xs);
    padding: 0;
    padding-left: var(--spacing);
    border-left: var(--border-width-md) solid var(--border-light);
}

/* Иконка переключения видимости дочерних элементов */
.toggle-icon {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: var(--icon-size-sm);
    height: var(--icon-size-sm);
    margin-right: var(--spacing-xs);
    cursor: pointer;
    user-select: none;
    font-size: var(--font-size-xs);
    opacity: var(--opacity-tree-toggle);
    transition: var(--transition-all);
    color: var(--icon-color);
    flex-shrink: 0;
}

/* Анимация поворота иконки */
.toggle-icon.expanded {
    transform: rotate(var(--rotate-toggle-expanded));
}

/* Подсветка иконки при наведении */
.toggle-icon:hover {
    opacity: 1;
    color: var(--icon-color-hover);
    transform: scale(var(--scale-icon-hover));
}

.toggle-icon.expanded:hover {
    transform: rotate(var(--rotate-toggle-expanded)) scale(var(--scale-icon-hover));
}

/* Отступы для элементов без дочерних узлов */
.tree-item:not(.has-children) .tree-label {
    margin-left: calc(var(--icon-size-sm) + var(--spacing-xs));
}

/* Счетчик дочерних элементов */
.children-count {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    margin-left: var(--spacing-xs);
    padding: 0 var(--spacing-xs);
    min-width: var(--tree-count-size);
    height: var(--tree-count-size);
    background: var(--gray-200);
    color: var(--text-secondary);
    font-size: var(--font-size-xs);
    font-weight: var(--font-weight-semibold);
    border-radius: var(--radius-full);
    box-shadow: var(--shadow-xs);
}
