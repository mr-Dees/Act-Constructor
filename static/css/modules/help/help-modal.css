/*
 * –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å–ø—Ä–∞–≤–∫–∏
 *
 * –ü–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–æ–µ –æ–∫–Ω–æ —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
 * –ü—Ä–æ–∫—Ä—É—Ç–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –¥–ª—è —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ, —à–∞–ø–∫–∞ –æ—Å—Ç–∞–µ—Ç—Å—è —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–π.
 */

/* –û–≤–µ—Ä–ª–µ–π –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ —Å–ø—Ä–∞–≤–∫–∏ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç .custom-dialog-overlay) */
.help-modal {
    position: fixed;
    inset: 0;
    background: var(--help-modal-overlay);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: var(--z-modal);
    backdrop-filter: var(--modal-blur-background);
    -webkit-backdrop-filter: var(--modal-blur-background);
    padding: var(--spacing-lg);
    opacity: 0;
    transition: opacity var(--transition-base) ease;
}

/* –í–∏–¥–∏–º–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ */
.help-modal:not(.hidden) {
    opacity: 1;
}

/* –°–∫—Ä—ã—Ç–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ */
.help-modal.hidden {
    display: none;
}

/* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ —Å–ø—Ä–∞–≤–∫–∏ */
.help-modal-content {
    background: var(--modal-bg);
    border-radius: var(--radius-xl);
    max-width: var(--help-modal-max-width);
    width: 100%;
    max-height: var(--help-modal-max-height);
    display: flex;
    flex-direction: column;
    box-shadow: var(--modal-shadow);
    overflow: hidden;
    border: 1px solid var(--modal-border);
    transform: scale(0.95);
    opacity: 0;
    transition: transform var(--transition-slow) var(--ease-in-out-smooth),
    opacity var(--transition-slow) var(--ease-in-out-smooth);
}

/* –í–∏–¥–∏–º–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ */
.help-modal:not(.hidden) .help-modal-content {
    transform: scale(1);
    opacity: 1;
}

/* –®–∞–ø–∫–∞ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ - —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –±–µ–∑ –ø—Ä–æ–∫—Ä—É—Ç–∫–∏ */
.help-modal-header {
    padding: var(--spacing-xl) var(--spacing-2xl);
    border-bottom: 1px solid var(--border-light);
    display: flex;
    justify-content: space-between;
    align-items: center;
    background: var(--gradient-header);
    color: var(--text-on-primary);
    border-radius: var(--radius-xl) var(--radius-xl) 0 0;
    flex-shrink: 0;
}

/* –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å–ø—Ä–∞–≤–∫–∏ */
.help-modal-header h3 {
    margin: 0;
    font-size: var(--font-size-xl);
    font-weight: var(--font-weight-semibold);
    line-height: var(--line-height-tight);
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
}

/* –ò–∫–æ–Ω–∫–∞ –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ */
.help-modal-header h3::before {
    content: 'üí°';
    font-size: var(--icon-size-lg);
}

/* –ö–Ω–æ–ø–∫–∞ –∑–∞–∫—Ä—ã—Ç–∏—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ */
.help-modal-close {
    background: none;
    border: none;
    font-size: var(--font-size-3xl);
    cursor: pointer;
    color: var(--text-on-primary);
    line-height: 1;
    padding: 0;
    width: var(--help-modal-close-size);
    height: var(--help-modal-close-size);
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: var(--radius);
    transition: var(--transition-all);
    position: relative;
}

/* –ü–æ–¥—Å–≤–µ—Ç–∫–∞ –∫–Ω–æ–ø–∫–∏ –∑–∞–∫—Ä—ã—Ç–∏—è –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ */
.help-modal-close:hover {
    background: var(--help-close-hover);
    transform: rotate(var(--rotate-close-button));
}

.help-modal-close:active {
    transform: rotate(var(--rotate-close-button)) scale(var(--button-active-scale));
}

/* –°–æ—Å—Ç–æ—è–Ω–∏–µ —Ñ–æ–∫—É—Å–∞ */
.help-modal-close:focus-visible {
    outline: 2px solid var(--text-on-primary);
    outline-offset: var(--focus-outline-offset);
}

/* –§—É—Ç–µ—Ä –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) */
.help-modal-footer {
    padding: var(--spacing-lg) var(--spacing-2xl);
    border-top: 1px solid var(--border-light);
    background: var(--modal-footer-bg);
    display: flex;
    justify-content: flex-end;
    gap: var(--spacing);
    flex-shrink: 0;
    border-radius: 0 0 var(--radius-xl) var(--radius-xl);
}
